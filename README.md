# AI Product Hackathon 2024
В этом репозитории лежат ноутбуки для решения задачи ИВ РАН. 

Цель проекта - расширить поисковое пространство для людей, которые не владеют восточными языками. Оперативно и без посредников отслеживать изменения в стране и в международном контексте с возможностью перепроверки по первоисточникам.

![](https://github.com/svyatocheck/chinese_hackathon_rag_case/blob/main/images/ошибки_распределения.png)

## Что умеет Orientalizer? 

- читать и анализировать информацию на китайском
- извлекать нужную информацию
- подкреплять свои знания ссылками на источники
- поддерживать динамическую обработку данных



## Проблема

Мало информации о Китае "из первых уст".

Из всех ежедневных событий в Китае и Японии мы узнаем лишь малую часть, причем эта информация поступает преимущественно из американских и европейских СМИ. 

Задача — прямой выход на событийную картину этих стран. 

## Решение 

ИИ-чат-бот, который обрабатывает и выдает на русском языке информацию по новостной сводке из китайских и японских источников.

### На что обращали внимание?

После небольшого "брейншторминга" мы пришли к выводу, что решение должно отвечать следующим критериям:

- **Масштабируемость**. Обработка больших объемов данных
- **Гибкость**. Адаптация под разные сценарии использования
- **Точность**. Высокая точность анализа и предсказаний
- **Простота**. Легкость интеграции с существующими системами

### Данные

Данные были предоставлены ИВ РАН. Они сгрупированны по сайтам и месяцам WARC-записи, т.е. сырые данные, полученные от новостных серверов. Новости всего спектра, от политико-экономических до «желтых». Требовалась предварительная обработка: очистка текста от рекламы и посторонних фрагментов удаление дублей нормализация дальневосточной письменности

Всего записей на китайском языке - 1,5 млн

### Архитектура

![Архитектура](https://github.com/svyatocheck/chinese_hackathon_rag_case/blob/main/images/photo_2024-06-11_18-17-51.jpg)

### Инструменты

- **Модели**. Yandex GPT Pro, BERT
- **Язык программирования**. Python
- **Библиотеки**. LangChain, jieba, NLTK
- **Хранилища данных**. Векторные базы данных (OpenSearch)

### Сборка и запуск приложения

Для реализации сценария будут использоваться сервисы Yandex Cloud.

[YandexGPT](https://yandex.cloud/ru/docs/foundation-models/concepts/yandexgpt/) - большая языковая модель для построения embedding-ов по документам и ответов на вопросы.
[Yandex Managed Service for OpenSearch](https://yandex.cloud/ru/docs/managed-opensearch/) - Сервис для управления кластерами OpenSearch, который будет использоваться для хранения пар фрагментов документов и векторных представлений этих фрагментов.
[Yandex Object Storage](https://yandex.cloud/ru/docs/storage/) - Объектное хранилище, в котором изначально хранятся файлы с базой знаний.
[Yandex DataSphere](https://yandex.cloud/ru/docs/datasphere/) - Cервис для обучения ML-моделей и среда разработки на Python для взаимодействия с YandexGPT и OpenSearch.

Работа с векторной БД и языковой моделью YandexGPT будет осуществляться с помощью популярного фреймворка с открытым исходным кодом [LangChain](https://www.langchain.com/).

#### Пошаговая инструкция

1. Необходимо перейти в сервис [OpenSearch](https://yandex.cloud/ru/services/managed-opensearch) и создать кластер по [инструкции](https://yandex.cloud/ru/docs/managed-opensearch/operations/cluster-create). Необходимо создать группу виртуальных хостов OpenSearch и группу виртуальных хостов Dashboards. _Важно, чтобы кластер OpenSearch, Object Storage и DataSphere находились в одной подсети._
2. Перейдите в сервис Yandex Object Storage, создайте новый бакет и загрузите в него документы, по которым будет необходимо отвечать на вопросы.
3. Перейдите в сервис Yandex DataSphere и создайте в нем сообщество и проект, в котором можно будет запускать код на Python.
4. Создайте коннектор к Object Storage S3 в проекте DataSphere. Активируйте коннектор для работы с ним JupyterLab.
5. В созданном проекте необходимо перейти во вкладку "Настройки" и указать:
- Каталог по умолчанию: каталог, в котором созданы сервисы Yandex Managed Service for OpenSearch и YandexGPT.
- Сервисный аккаунт: сервисный аккаунт, который позволит обращаться к другим сервисам из проекта DataSphere. Важно, что сервисному аккаунту должны быть назначены роли ai.languageModels.user для доступа к модели YandexGPT, managed-opensearch.admin для работы с OpenSearch и vpc.user.
- Подсеть: укажите подсеть, в которой находятся сервисы OpenSearch и YandexGPT.

## Результат

Что получилось в итоге? Наш прекрасный бот - ассистент востоковеда :D 

Задать вопрос нашему генеративному эксперту можно [тут](https://t.me/orientalizer_bot) (не работает из-за отсутсвия денег на аккаунте Yandex)



